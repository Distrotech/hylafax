#	$Id$
#
# @WARNING@
#
# HylaFAX Facsimile Software
#
# Copyright (c) 1990-1996 Sam Leffler
# Copyright (c) 1991-1996 Silicon Graphics, Inc.
# HylaFAX is a trademark of Silicon Graphics
# 
# Permission to use, copy, modify, distribute, and sell this software and 
# its documentation for any purpose is hereby granted without fee, provided
# that (i) the above copyright notices and this permission notice appear in
# all copies of the software and related documentation, and (ii) the names of
# Sam Leffler and Silicon Graphics may not be used in any advertising or
# publicity relating to the software without the specific, prior written
# permission of Sam Leffler and Silicon Graphics.
# 
# THE SOFTWARE IS PROVIDED "AS-IS" AND WITHOUT WARRANTY OF ANY KIND, 
# EXPRESS, IMPLIED OR OTHERWISE, INCLUDING WITHOUT LIMITATION, ANY 
# WARRANTY OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.  
# 
# IN NO EVENT SHALL SAM LEFFLER OR SILICON GRAPHICS BE LIABLE FOR
# ANY SPECIAL, INCIDENTAL, INDIRECT OR CONSEQUENTIAL DAMAGES OF ANY KIND,
# OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS,
# WHETHER OR NOT ADVISED OF THE POSSIBILITY OF DAMAGE, AND ON ANY THEORY OF 
# LIABILITY, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE 
# OF THIS SOFTWARE.
#

#
# VERSION:	@VERSION@
# DATE:		@DATE@
# TARGET:	@TARGET@
#
COMMONPREF=html

#
# This directory contains online HTML documentation for HylaFAX.
#
DEPTH=..
@MAKEINCLUDE@ @MAKELQUOTE@${DEPTH}/defs@MAKERQUOTE@

SRCDIR	= ${DEPTH}/${TOPSRCDIR}/html

HTML_DOCS=${SRCDIR}/acknowledge.html		\
    ${SRCDIR}/binary.html			\
    ${SRCDIR}/building.html			\
    ${SRCDIR}/class1.html			\
    ${SRCDIR}/class2.0.html			\
    ${SRCDIR}/class2.html			\
    ${SRCDIR}/contrib.html			\
    ${SRCDIR}/copyright.html			\
    ${SRCDIR}/documentation.html		\
    ${SRCDIR}/faxgateway.html			\
    ${SRCDIR}/ftpmail-help.html			\
    ${SRCDIR}/ghostscript.html			\
    ${SRCDIR}/HOWTO.html 			\
    ${SRCDIR}/hylafax3.0.html			\
    ${SRCDIR}/hylafax4.0.html			\
    ${SRCDIR}/index.html			\
    ${SRCDIR}/install-source.html		\
    ${SRCDIR}/ixotap.html			\
    ${SRCDIR}/mailing-lists.html		\
    ${SRCDIR}/modems.html			\
    ${SRCDIR}/namechange.html			\
    ${SRCDIR}/operation.html			\
    ${SRCDIR}/overview.html			\
    ${SRCDIR}/sam.html				\
    ${SRCDIR}/matthias.html			\
    ${SRCDIR}/setup-advanced.html		\
    ${SRCDIR}/setup-client.html			\
    ${SRCDIR}/setup.html			\
    ${SRCDIR}/source.html			\
    ${SRCDIR}/survey-help.html			\
    ${SRCDIR}/survey.html			\
    ${SRCDIR}/survey-query.html			\
    ${SRCDIR}/toc.html				\
    ${SRCDIR}/troubleshooting.html		\
    ${SRCDIR}/upgrade4.0.html			\
    ${SRCDIR}/v2.3beta036.html			\
    ${SRCDIR}/v2.3beta036special.html		\
    ${SRCDIR}/v3.0beta096.html			\
    ${SRCDIR}/v3.0beta100.html			\
    ${SRCDIR}/v3.0beta108.html			\
    ${SRCDIR}/v3.0beta110.html			\
    ${SRCDIR}/v3.0beta111.html			\
    ${SRCDIR}/v3.0beta112.html			\
    ${SRCDIR}/v3.0beta113.html			\
    ${SRCDIR}/v3.0beta114.html			\
    ${SRCDIR}/v4.0beta005.html			\
    ${SRCDIR}/v4.0beta006.html			\
    ${SRCDIR}/v4.0beta007.html			\
    ${SRCDIR}/v4.0beta008.html			\
    ${SRCDIR}/v4.0beta009.html			\
    ${SRCDIR}/v4.0beta010.html			\
    ${SRCDIR}/v4.0beta011.html			\
    ${SRCDIR}/v4.0beta012.html			\
    ${SRCDIR}/v4.0beta013.html			\
    ${SRCDIR}/v4.0beta014.html			\
    ${SRCDIR}/v4.0beta015.html			\
    ${SRCDIR}/v4.0beta018.html			\
    ${SRCDIR}/v4.0beta020.html			\
    ${SRCDIR}/v4.0beta021.html			\
    ${SRCDIR}/v4.0beta022.html			\
    ${SRCDIR}/v4.0beta023.html			\
    ${SRCDIR}/version.html			\
    ${SRCDIR}/Majordomo/help.html		\
    ${SRCDIR}/Modems/Hayes/hayes.html		\
    ${SRCDIR}/Modems/Supra/class1.html		\
    ${SRCDIR}/Modems/Supra/class2.html		\
    ${SRCDIR}/Modems/Telebit/faxcmds.html	\
    ${SRCDIR}/Modems/ZyXEL/autodetect.html	\
    ${SRCDIR}/Modems/ZyXEL/codes.html		\
    ${SRCDIR}/Modems/ZyXEL/commands.html	\
    ${SRCDIR}/Modems/ZyXEL/compression.html	\
    ${SRCDIR}/Modems/ZyXEL/examples.html	\
    ${SRCDIR}/Modems/ZyXEL/voice.html		\
    ${SRCDIR}/Modems/att-dataport.html		\
    ${SRCDIR}/Modems/digicom-scout.html		\
    ${SRCDIR}/Modems/everex-2496d.html		\
    ${SRCDIR}/Modems/hayes-optima2400.html	\
    ${SRCDIR}/Modems/index.html			\
    ${SRCDIR}/Modems/multitech-1432.html	\
    ${SRCDIR}/Modems/multitech-1932.html	\
    ${SRCDIR}/Modems/nuvo-96424pfx.html		\
    ${SRCDIR}/Modems/ppi-pm14400fxmt.html	\
    ${SRCDIR}/Modems/supra-v32bis.html		\
    ${SRCDIR}/Modems/telebit-t3000.html		\
    ${SRCDIR}/Modems/twincom-144df.html		\
    ${SRCDIR}/Modems/ucom-traveller96.html	\
    ${SRCDIR}/Modems/usr-courier.html		\
    ${SRCDIR}/Modems/usr-sportster.html		\
    ${SRCDIR}/Modems/zyxel-1496.html		\
    ${SRCDIR}/Modems/K56flex.html		\
    ${SRCDIR}/Modems/multitech-2834.html	\
    ${SRCDIR}/Modems/hayes-accura288.html	\
    ${NULL}
ICONS_DOCS=${SRCDIR}/icons/at_work_icon.gif	\
    ${SRCDIR}/icons/ball_blue_icon.gif		\
    ${SRCDIR}/icons/button.excl.gif		\
    ${SRCDIR}/icons/back.gif			\
    ${SRCDIR}/icons/frog.gif			\
    ${SRCDIR}/icons/improved.gif		\
    ${SRCDIR}/icons/info_icon.gif		\
    ${SRCDIR}/icons/new.gif			\
    ${SRCDIR}/icons/next.gif			\
    ${SRCDIR}/icons/smiley.gif			\
    ${SRCDIR}/icons/warning_icon.gif		\
    ${SRCDIR}/sam.gif				\
    ${SRCDIR}/matthias.gif			\
    ${SRCDIR}/hylafax.gif			\
    ${NULL}
TARGETS	=

default all::
	@${MAKE} tools

targets: ${TARGETS}

@MAKEINCLUDE@ @MAKELQUOTE@${COMMONRULES}@MAKERQUOTE@

tools::
	@${ECHO} "= tools"; cd tools; ${MAKE}

installDocs::
	${INSTALL} -u ${SYSUSER} -g ${SYSGROUP} -m ${DIRMODE}		\
	    -idb hylafax.html.docs -dir					\
	    ${HTMLDIR}							\
	    ${HTMLDIR}/icons 						\
	    ${HTMLDIR}/Modems						\
	    ${HTMLDIR}/Modems/Telebit					\
	    ${HTMLDIR}/Modems/Supra					\
	    ${HTMLDIR}/Modems/ZyXEL					\
	    ${HTMLDIR}/Modems/Hayes 					\
	    ${HTMLDIR}/Majordomo
	@for i in ${HTML_DOCS} ${ICONS_DOCS}; do			\
	    f=`${ECHO} $$i | ${SED} 's;${SRCDIR}/;;'`;			\
	    ${ECHO} "${INSTALL} -F ${HTMLDIR} -m 444 -idb ${PRODUCT}.html.docs -src $$i -O $$f";		\
	    ${INSTALL} -F ${HTMLDIR} -m 444				\
		-idb ${PRODUCT}.html.docs -src $$i -O $$f;		\
	done

CATPAGES=${SRCDIR}/index.html \
	${SRCDIR}/toc.html \
	${SRCDIR}/overview.html \
	${SRCDIR}/HOWTO.html \
	${SRCDIR}/version.html \
	${SRCDIR}/modems.html \
	${SRCDIR}/class1.html \
	${SRCDIR}/class2.html \
	${SRCDIR}/class2.0.html \
	${SRCDIR}/source.html \
	${SRCDIR}/binary.html \
	${SRCDIR}/upgrade4.0.html \
	${SRCDIR}/building.html \
	${SRCDIR}/ghostscript.html \
	${SRCDIR}/setup.html \
	${SRCDIR}/setup-advanced.html \
	${SRCDIR}/ixotap.html \
	${SRCDIR}/setup-client.html \
	${SRCDIR}/operation.html \
	${SRCDIR}/faxgateway.html \
	${SRCDIR}/troubleshooting.html \
	${SRCDIR}/contrib.html \
	${SRCDIR}/mailing-lists.html \
	${SRCDIR}/acknowledge.html \
	${SRCDIR}/copyright.html \
	${NULL}

pages.html: ${CATPAGES}
	${RM} -f pages.html
	(echo '<HTML><HEAD>'; \
	echo '<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">';\
	echo '<TITLE>HylaFAX Documentation</TITLE></HEAD></BODY>';\
	for i in ${CATPAGES}; do \
	    ${SED} -e '1,/<BODY>/d' -e '/<!--FOOTER-->/,/<[\/]HTML>/d' $$i; \
	    echo '<P><HR WIDTH=65% ALIGN=center>'; \
	done; \
	echo '</BODY></HTML>') > pages.html

install: default installDocs
	@${ECHO} "= tools"; cd tools; ${MAKE} install

clean::
	@${ECHO} "= tools"; cd tools; ${MAKE} clean

clobber::
	@${ECHO} "= tools"; cd tools; ${MAKE} clobber
	-${RM} -f Makefile ${MKDEPFILE} .*dependtime .*incdepend

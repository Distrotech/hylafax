<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<TITLE>
Client Setup
</TITLE>
</HEAD>

<BODY>

<BASEFONT SIZE=4>
<B><FONT SIZE=+3>C</FONT>LIENT <FONT SIZE=+2>S</FONT>ETUP</B>
<BASEFONT SIZE=3>

<HR SIZE=4>

HylaFAX is based on a client-server architecture.  A
single server machine with one or more modems may service a
network of client machines that do not have modems.  
Client and server machines typically communicate using a
special HylaFAX client-server protocol that is transported on top of
the TCP/IP protocols.
Alternatively, clients can be setup to submit facsimile and pager
requests using other transport mechanisms such as electronic mail
or a network printing service.
This chapter discusses only the setup of a UNIX system as a
client machine that uses the standard HylaFAX client applications
to submit and manage outbound jobs.
Building a mail-to-fax gateway is discussed in a separate
``<A HREF="faxgateway.html">Mail to Fax Gateway</A>'' chapter.
You are on your own if you want to use a printer protocol
to hook clients
up; though it is not much more complicated than the mail route
(you should look at how the mail support is done).

<P><A NAME="Source"><HR WIDTH=65% ALIGN=right><H2>From the Source Distribution</H2></A>

From the source distribution configure and build the software 
as described in the chapter
``<A HREF="building.html">Building HylaFAX From Source Code</A>''
(NB: this will build both client and server software).
To install only the programs and files required on a client then do

<UL><LISTING>
hyla# <B>make installClient</B>
</LISTING></PRE></UL>

The set of files required for a HylaFAX client is also given in the
<A HREF="@CGIPATH@/manpage?hylafax-client">hylafax-client</A>
manual page (see the FILES section).

<P><A NAME="Defaults"><HR WIDTH=65% ALIGN=right><H2>Setting Up Defaults</H2></A>

With the applications and data files available on a client machine,
the only other work one might do on the client machine is to configure
default settings for the HylaFAX client applications.
The most important of these settings is the identity of the
machine to contact for service.
This can be specified in many ways.
HylaFAX client applications read configuration information from a
system-wide file named <B>hyla.conf</B> followed by a per-user
configuration file named <B>.hylarc</B> that is stored in the user's
home directory.
The <TT>Host</TT>, <TT>Port</TT>, <TT>Protocol</TT>, and <TT>Modem</TT>
configuration parameters can be setup to completely specify a
HylaFAX server and modem to use as a default.
Otherwise
the <TT>FAXSERVER</TT> and <TT>SNPPSERVER</TT> environment variables
can be used to override this information (the latter is used only
by the sendpage program).
If no configuration values are defined on a client machine then
HylaFAX uses values that are compiled into each program: service is
requested from the <TT>localhost</TT> at the port associated with
the <TT>hylafax</TT> service or at port <TT>4559</TT> if this service is not
defined in the system services database.

<P>
Consult the manual page for each client application for a full
list of the configuration parameters that are used and the set
of configuration files that are searched.

<P><A NAME="Access"><HR WIDTH=65% ALIGN=right><H2>Setting up Server Access</H2></A>

Once a client machine is setup for use the server machine may need to
be configured to permit client access.  Specifically, the file
<B>etc/hosts.hfaxd</B> in the spooling area on the server machine must be
setup to permit client access to HylaFAX services.
This documentation has a section on
``<A HREF=setup.html#HFaxd>Setting up client access</A>''
and the
<A HREF="@CGIPATH@/manpage?hosts.hfaxd">hosts</A>
manual page has reference information how this is done.

<P><A NAME="Coverpage"><HR WIDTH=65% ALIGN=right><H2>Customizing Cover Pages</H2></A>

The fax submission program
<A HREF="@CGIPATH@/manpage?sendfax">sendfax</A>
includes support for the automatic generation of cover pages for each
outbound job.
Cover pages are generated by invoking a program, by default
<A HREF="@CGIPATH@/manpage?faxcover">faxcover</A>,
to create a PostScript cover page for a transmission.
Users can customize cover page generation in many ways.
The default faxcover program supports customization through the user
of <I>template files</I> that are parameterized with PostScript.
Alternatively the faxcover program itself can be replaced by
overriding its definition in a configuration file (either a
personal file or a system-wide file).
Finally clients may simply suppress the automatic cover page
support provided by sendfax and supply pre-constructed cover
pages of their own choice as normal documents that are to be
transmitted.
The only negative aspect of the last alternative is that cover
pages submitted in this manner may confuse the continuation
cover page support provided a the HylaFAX server.

<P><A NAME="Typerules"><HR WIDTH=65% ALIGN=right><H2>Customizing Document Conversions</H2></A>

A HylaFAX server accepts PostScript or TIFF format files and converts
them to the appropriate format required to transmit them as facsimile.
Any other documents must be converted prior to submitting them to the
server for transmission.
In particular ASCII text must be converted before it can be submitted.
The fax submission program
<A HREF="@CGIPATH@/manpage?sendfax">sendfax</A>
uses a set of <I>file type conversion rules</I>
to decide how to prepare documents for transmission as facsimile
and HylaFAX includes several document conversion programs that are
used on client machines to prepare documents for transmission:
<A HREF="@CGIPATH@/manpage?textfmt">textfmt</A>
to formats text and convert it to PostScript and,
for IRIX systems,
<A HREF="@CGIPATH@/manpage?sgi2fax">sgi2fax</A>
to convert SGI RGB-format images to TIFF.
Users can customize the file type conversion rules as needed by
overriding the default set of conversion rules.
To do so just create a <B>.hylarc</B> file that specifies
a private set of file type conversion rules:

<UL><LISTING>
TypeRules: /usr/people/sam/.typerules
</LISTING></UL>

then copy the default set of rules and edit it as needed.
For example the default rules do not include support for
preparing WordPerfect documents for transmission.
However there is a user-contributed <I>wpr</I> script that
can be used together with the following typerules:

<UL><LISTING>
0	byte	0xff	error	WordPerfect document
>1	string	WPC	ps	/usr/local/bin/wpr %i >%o
</LISTING></UL>

Consult the
<A HREF="@CGIPATH@/manpage?typerules">typerules</A>
manual page for details.

<!--FOOTER-->

<P>
<A HREF="toc.html"><IMG SRC="icons/back.gif"> HylaFAX table
of contents</A>.<BR>

<HR>

<ADDRESS>
<A HREF="sam.html">Sam Leffler</A> / <A HREF="mailto:sam@engr.sgi.com">sam@engr.sgi.com</A>.
Last updated $Date$.
</ADDRESS>

</BODY>
</HTML>

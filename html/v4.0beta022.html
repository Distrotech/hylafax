<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<TITLE>
Changes in HylaFAX v4.0beta022 (aka v4.0pl1)
</TITLE>
</HEAD>

<BODY>

<BASEFONT SIZE=4>
<B><FONT SIZE=+3>H</FONT>YLA<FONT SIZE=+1>FAX</FONT> <FONT SIZE=+2>C</FONT>HANGE <FONT SIZE=+2>I</FONT>NFORMATION</B>
<BASEFONT SIZE=3>

<UL>
<HR SIZE=4 WIDTH=65% ALIGN=left>
<B>Current Version</B>: v4.0beta022 (aka v4.0pl1)<BR>
<B>Previous Version</B>: <A HREF="v4.0beta021.html">v4.0beta021 (aka v4.0pl0)</A><BR>
<B>Master FTP Site</B>: <A HREF="ftp://sgi.com/sgi/fax">sgi.com (192.48.153.1), directory sgi/fax</A><BR>
<HR SIZE=4 WIDTH=65% ALIGN=left>
</UL>

<P>
This document describes the changes made to the software between the
<I>previous</I> and <I>current</I> versions (see above).
If you don't find something listed here, then it was not done in this
timeframe, or it was not considered important enough to be mentioned.

<P>
<TABLE BORDER=0>
<TR>
<TD><IMG SRC="icons/info_icon.gif" HSPACE=8></TD>
<TD><CITE>
This was a patch distribution made to correct problems found after
the v4.0pl0 release.
The majority of the changes included in this
patch address portability problems.</CITE></TD>
</TR>
</TABLE>

<P><HR WIDTH=65% ALIGN=right>

<B><FONT SIZE=+3>C</FONT>HANGES:</B>

<UL>
<LI><B>configure</B> now looks for <TT>crypt</TT> in <TT>-lcrypt_d</TT>
    and <TT>-lcrypt_i</TT> (for FreeBSD 2.1)
<LI>a bug was fixed in <B>faxq</B> whereby the on-disk job description
    file was not
    updated to reflect the current in-memory state; this caused
    jobs to be left in a ``suspended'' state if <B>faxq</B> was prematurely
    terminated
<LI>a bug in <B>faxsetup</B>'s handling of certain prompts was corrected
<LI><B>faxsetup</B> now does some consistency checking of the
    <B>etc/hosts.hfaxd</B> file in the spooling area
<LI><B>faxsetup</B> handles SCO systems better
<LI>some code was added to deal with language changes introduced in
    the latest ANSI C++ draft specification (and implemented in the
    SGI 7.1 compilers)
<LI>extraneous use of the <TT>::</TT> scope operator was removed to
    avoid problems with systems that use C preprocessor directives to
    define certain antiquated functions (e.g. atoi)
<LI>changes were made to deal with systems where
    <TT>tcgetattr</TT> is a #define (e.g. SCO)
<LI>a bug was fixed that caused sendfax to send the <TT>USEECM</TT>
    protocol directive with an improper (wrongly typed) argument
<LI>a bug was fixed in the text to PostScript conversion support that
    appeared on systems where <TT>char</TT> is a signed quantity
<LI>a bug in <B>faxconfig</B> that caused invalid requests
    to be sent to the scheduler was fixed
<LI>the zlib support has been updated to version 1.0.4; this 
    fixes certain portability problems
<LI>make dependency handling was fixed for certain compilers
<LI>workarounds were made to deal with systems that have certain
    C include files that are not setup for use in C++ programs
<LI>a new <TT>-D</TT> option was added to <B>faxcover</B> to set
    the <TT>strftime</TT> format string used to generate the
    time & date string
<LI>a new <TT>DateFormat</TT> configuration parameter was added to
    <B>sendfax</B> to specify a format string to pass to the
    cover page program when auto-generating cover pages
<LI>a bug was fixed in <B>hfaxd</B> in the recognition off little-endian
    TIFF images
<LI>a bug was fixed in <B>hfaxd</B> that resulted in the <TT>SHUT</TT>
    command writing an invalid time to the shutdown file
<LI><B>hfaxd</B> now checks the time value specified in the shutdown
    file more carefully
<LI>job parameter alteration was fixed in the old protocol emulation
<LI>a new <TT>CONFIG_MAXGID</TT> configuration parameter was added
    to constrain the maximum fax UID assigned to clients
<LI>the maximum fax UID was changed to 60000 for HP and SCO systems;
    this fixes a problem where anonymous clients were unable to
    access submitted documents
<LI><B>faxgetty</B> was changed to monitor modem status messages
    even when <TT>RingsBeforeAnswer</TT> is set to zero
<LI>unprivileged clients may now access files in the <B>log</B>
    subdirectory in the spooling area (per-file readability depends
    on the setting of
    <TT>LogFileMode</TT>); this makes it possible to use
    WWW browsers to retrieve session logs through <B>hfaxd</B>
</UL>

<!--FOOTER-->

<A HREF="toc.html"><IMG SRC="icons/back.gif"></A> HylaFAX table
of contents.<BR>

<HR>

<ADDRESS>
<A HREF="sam.html">Sam Leffler</A> / <A HREF="mailto:sam@engr.sgi.com">sam@engr.sgi.com</A>
Last updated $Date$.
</ADDRESS>

</BODY>
</HTML>
